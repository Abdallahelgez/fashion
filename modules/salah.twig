<section section-id="{{ sectionId }}" data-lg-scroll-offset="130" data-md-scroll-offset="130" data-sm-scroll-offset="94" data-aos-anchor-placement="top-bottom" data-aos="fade-up" class="ss">
	<div class="swiper-sliders container-fluid">
		<div class="swiper-main">
			{% for key in settings.slider %}
				<a href=-"{{key.hef}}" class="slid-slick">
					{% if key.image1 %}
						<img class="keys-image1" src="{{key.image1}}">
					{% endif %}
				</a>
			{% endfor %}
		</div>
	</section>
	<script>
document.addEventListener("DOMContentLoaded", function () {
  var slickContainer = $('.swiper-main');

  // تحديد اتجاه السلايدر بناءً على اتجاه الصفحة
  var isRtl = !(window.appDirection === 'ltr'); // RTL إذا لم يكن الاتجاه LTR

  var screenWidth = window.screen.width;

  var editingMode = {% if store.editing_mode %}
    true
  {% else %}
    false
  {% endif %};

  if (screenWidth >= 0 || editingMode) {
    slickContainer.slick({
        arrows:false,
      centerMode: true,
      centerPadding: '0px',
      slidesToShow: 5,
      slideToScroll: 1,
      lazyLoad: true,
      easing: 'linear',
      autoplay:false,
      cssEase: 'linear',
      infinite: true,
      variableWidth: true,
      rtl: isRtl, // جعل السلايدر RTL إذا كان الاتجاه عربي
      responsive: [
        {
          breakpoint: 768,
          settings: {
            arrows: false,
            centerMode: true,
            centerPadding: '40px',
            slidesToShow: 3
          }
        },
        {
          breakpoint: 480,
          settings: {
            arrows: false,
            centerMode: true,
            centerPadding: '40px',
            slidesToShow: 1
          }
        }
      ]
    });

    // إضافة الكلاسات فور تحميل الصفحة
    updateClasses();

    // ضبط الحدث beforeChange لتحديث الكلاسات أثناء التفاعل
    slickContainer.on('beforeChange', function (event, slick, currentSlide, nextSlide) {
      updateClasses(nextSlide);
    });

    // ضبط الحدث عند الضغط على صورة
    slickContainer.on('click', '.slick-slide', function () {
      var slideIndex = $(this).data('slick-index'); // الحصول على الفهرس
      slickContainer.slick('slickGoTo', slideIndex); // تحريك السلايدر إلى الشريحة المطلوبة
    });
  }

  // وظيفة لتحديث الكلاسات
  function updateClasses(nextSlide = 0) {
    $('.slick-slide').removeClass('beslide afslide'); // إزالة الكلاسات

    // الحصول على الشريحة المركزية الجديدة
    var slickCenterIndex = nextSlide;

    $('.slick-slide').each(function () {
      var slideIndex = $(this).data('slick-index');

      if (slideIndex === slickCenterIndex + 1 || (slickCenterIndex + 1 > slickContainer.slick('getSlick').slideCount - 1 && slideIndex === 0)) {
        // العنصر الذي يلي مباشرة الـ slick-center
        $(this).addClass('afslide');
      } else if (slideIndex < slickCenterIndex) {
        $(this).addClass('beslide'); // العناصر التي قبل slick-center
      } else if (slideIndex > slickCenterIndex + 1) {
        $(this).addClass('afslide'); // العناصر التي بعد العنصر التالي
      }
    });
  }
});


	</script>


	{% schema %}
	{
	  "name": {
	    "ar": "اسليدر الصور",
	    "en": "photos"
	  },
	  "icon": "fal fa-presentation",
	  "display": true,
	  "settings": {
	    "slider": {
	      "type": "list",
	      "noLabel": true,
	      "maxItems": 10,
	      "settings_label": {
	        "ar": "الصورة",
	        "en": "Picture"
	      },
	      "settings": {
	        "image1": {
	          "type": "image",
	          "label": {
	            "ar": "الصورة",
	            "en": "Image"
	          },
	          "info": {
	            "ar": "ارفع صورة للكمبيوتر بحجم 1900 * 915",
	            "en": "Upload an image with dimensions 1900x915"
	          }
	        },
	        "hef": {
	          "type": "url",
	          "label": {
	            "ar": "url",
	            "en": "url"
	          }
	        }
	      }
	    }
	  }
	}
	{% endschema %}
